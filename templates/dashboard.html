<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Halaman Dashboard</title>
  <!--Boostrap-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
  <script src="https://kit.fontawesome.com/9fb14998a3.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../static/dycalendar.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@200;400;500;600&display=swap");

    body {
      background-color: #0e4b5f;
    }

    .navbar {
      margin-left: 100px;
      margin-right: 50px;
    }

    .collapse .nav-link {
      color: #ffff;
      font-family: "Inter", sans-serif;
      font-weight: 400;
    }

    .navbar-text span {
      display: block;
      color: #ffff;
      text-align: center;
      font-family: "Inter", sans-serif;
      font-weight: 400;
      font-size: 14px;
    }

    .navbar-nav .nav-link:active {
      font-weight: 700;
    }

    .img-dashboard img {
      position: absolute;
      width: 289px;
      height: 507px;
      left: 115px;
      top: 89px;
      bottom: 10px;

      box-shadow: 8px 7px 7px rgba(0, 0, 0, 0.39);
      border-radius: 15px;
    }

    .box1 {
      position: absolute;
      width: 358px;
      height: 239.54px;
      left: 434px;
      top: 89px;

      background: #ffffff;
      box-shadow: 8px 7px 7px rgba(0, 0, 0, 0.39);
      border-radius: 15px;
    }

    .box2 {
      position: absolute;
      width: 348.03px;
      height: 238.62px;
      left: 810px;
      top: 89px;

      background: #ffffff;
      box-shadow: 8px 7px 7px rgba(0, 0, 0, 0.39);
      border-radius: 15px;
    }

    .container {
      position: relative;
      width: 338px;
      height: 225px;
      background-color: #ffff;
      margin: 5px 5px 5px 5px;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container #dycalendar {
      width: 100%;
      padding: 2px;
    }

    #dycalendar table {
      width: 100%;
      margin-top: 2px;
    }

    #dycalendar table td {
      font-family: "Inter", sans-serif;
      font-weight: 400;
      font-size: 11px;
    }

    #dycalendar .dycalendar-header {
      font-family: "Inter", sans-serif;
      font-weight: 600;
      font-size: 14px;
    }

    .box3 {
      position: absolute;
      width: 358px;
      height: 248.56px;
      left: 434px;
      top: 341px;

      background: #ffffff;
      box-shadow: 8px 7px 7px rgba(0, 0, 0, 0.39);
      border-radius: 15px;
    }

    .container-box .row .col-6 .p-3 {
      margin-top: 22px;
      background-color: #008966;
      width: 153px;
      height: 88.27px;
      border-radius: 15px;
    }

    .p-3 .number {
      text-decoration: none;
      font-family: "Inter", sans-serif;
      font-weight: 600;
      font-size: 32px;
      color: #ffff;
      display: flex;
      flex-direction: column;
      margin-left: -60px;
    }

    .p-3 .text {
      text-decoration: none;
      font-family: "Inter", sans-serif;
      font-weight: 400;
      font-size: 10px;
      color: #ffff;
      display: flex;
      flex-direction: column;
      margin-left: -60px;
    }

    .envolve {
      display: flex;
      float: right;
      text-align: center;
      display: flex;
      margin-top: -60px;
      color: #ffffff;
    }

    .box4 {
      position: absolute;
      width: 348.03px;
      height: 248.56px;
      left: 813px;
      top: 341px;

      background: #ffffff;
      box-shadow: 8px 8px 8px rgba(0, 0, 0, 0.39);
      border-radius: 15px;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link" aria-current="page" href="/dashboard" style="color: #ffce56;">Dashboard</a>
          <a class="nav-link" href="/list-surat-masuk">Surat Masuk</a>
          <a class="nav-link" href="/list-surat-keluar">Surat Keluar</a>
          <a class="nav-link" href="/list-surat-pemberitahuan">Pemberitahuan</a>
          <a class="nav-link" href="/list-surat-pengumuman">Pengumuman</a>
        </div>
      </div>
      <div class="navbar-text">
        <span class="name">{{user_info.first_name}} {{user_info.last_name}}</span>
        <span class="email">{{user_info.email}}</span>
      </div>
      <a class="navbar-brand" href="/profile">
        <div class="foto-profile">
          <img src="{{url_for('static', filename=user_info.photo)}}" alt="Foto Profile" style="height: 61px; width: 61px; border-radius: 40px;" class="Foto Profile" />
        </div>
      </a>
    </div>
  </nav>

  <div class="container-box">
    <div class="img-dashboard">
      <img src="../static/dashboard-1.jpg" alt="Gambar" />
    </div>
    <div class="box1">
      <div class="container">
        <canvas id="myChart" width="400" height="400" style="margin: 10px;"></canvas>
      </div>
    </div>
    <div class="box2">
      <div class="container">
        <div id="dycalendar"></div>
      </div>
      <script src="../static/dycalendar.js"></script>
      <script>
        const today = new Date();
        const year = today.getFullYear();
        const month = today.getMonth() + 1; // Menggunakan indeks bulan dari 0 hingga 11, maka tambahkan 1
        const day = today.getDate();
        dycalendar.draw({
          target: '#dycalendar',
          type: 'month',
          dayformat: 'full',
          monthformat: 'full',
          highlighttargetdate: true,
          prevnextbutton: 'show',
        })
      </script>
    </div>
    <div class="box3">
      <div class="container overflow-hidden text-center">
        <div class="row gy-2">
          <div class="col-6">
            <div class="p-3">
              <a class="number" href="/">{{data[0]}}</a>
              <a class="text" href="/list-surat-masuk">Surat Masuk</a>
              <img class="envolve" src="../static/envolve.png" alt="surat">
            </div>
          </div>
          <div class="col-6">
            <div class="p-3">
              <a class="number" href="/">{{data[1]}}</a>
              <a class="text" href="/list-surat-keluar">Surat Keluar</a>
              <img class="envolve" src="../static/envolve.png" alt="surat">
            </div>
          </div>
          <div class="col-6">
            <div class="p-3">
              <a class="number" href="/">{{data[2]}}</a>
              <a class="text" href="/list-surat-pemberitahuan">Pemberitahuan</a>
              <img class="envolve" src="../static/envolve.png" alt="surat">
            </div>
          </div>
          <div class="col-6">
            <div class="p-3">
              <a class="number" href="/">{{data[3]}}</a>
              <a class="text" href="/list-surat-pengumuman">Pengumuman</a>
              <img class="envolve" src="../static/envolve.png" alt="surat">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="box4">
      <canvas id="myChart4" width="400" height="400" style="margin-left: 50px;"></canvas>
    </div>
  </div>

  <script>
    const ctx = document.getElementById('myChart');
    let data = {
      labels: ['SM', 'SK', 'SP', 'P'],
      datasets: [{
        data: {{data}},
        backgroundColor: ['#1688AD', '#36A2EB', '#FFCE56', '#008966'],
        hoverOffset: 4
      }]
    };
      new Chart(ctx, {
        type: 'doughnut',
        data:data,
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
    const ctx2 = document.getElementById('myChart4');
    let data2 = {
      labels: ['SM', 'SK', 'SP', 'P'],
      datasets: [{
        label:'Surat',
        data: {{data}},
        backgroundColor: ['#1688AD', '#36A2EB', '#FFCE56', '#008966'],
        hoverOffset: 4
      }]
    };
      new Chart(ctx2, {
        type: 'bar',
        data:data2,
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
  </script>
</body>

</html>